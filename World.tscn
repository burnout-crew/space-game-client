[gd_scene load_steps=3 format=2]

[ext_resource path="res://Ship.tscn" type="PackedScene" id=1]

[sub_resource type="GDScript" id=1]
script/source = "extends Spatial

onready var Ship = preload(\"res://Ship.tscn\")
onready var Ships = $Ships

var loaded_ships = {}

func get_ship(id):
	if loaded_ships.has(id):
		return loaded_ships[id]
	else:
		print(\"creating\", id)
		var ship = Ship.instance()
		ship.id = id
		Ships.add_child(ship)
		loaded_ships[id] = ship
		return ship
	
func remove_ship(id):
	Ships.remove_child(loaded_ships[id])
	loaded_ships.erase(id)
"

[node name="World" type="Spatial"]
script = SubResource( 1 )

[node name="Light" type="DirectionalLight" parent="."]
light_energy = 0.1
light_specular = 0.0
shadow_enabled = true

[node name="Ships" type="Spatial" parent="."]

[node name="Ship" parent="." instance=ExtResource( 1 )]

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 0.724268, 0.689518, 0, -0.689518, 0.724268, 0, 22.5456, 58.9408 )
